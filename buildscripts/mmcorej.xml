<project name="MMCoreJ" default="jar">
	<include file="buildprops.xml"/>
	<property name="MMCoreJ.srcdir" value = "${mm.cpp.srcdir}/MMcoreJ_Wrap"/>
	<property name="srcdir" value="${mm.swig.javasrcdir}"/>
	<property name="json.srcdir" value="${MMCoreJ.srcdir}/src/main/java"/>
	<property name="package" value="mmcorej"/>

	<import file="javabuild.xml"/>

	<!-- Override mm.javabuild.compile -->
	<target name="compile" depends="prepare" description="Compile Java sources">
		<mkdir dir="${intdir}"/>

		<copy todir="${srcdir}/${package}" file="${MMCoreJ.srcdir}/TaggedImage.java"/>

		<mm-javac destdir="${intdir}">
			<src path="${json.srcdir}"/>
			<include name="$mmcorej/org/json/**"/>

			<src path="${srcdir}"/>
			<include name="${package}/**"/>
		</mm-javac>
	</target>
</project>
